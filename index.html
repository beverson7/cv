<!DOCTYPE html>
<html>
  <head>
    <title>Tutoring organization</title>
    <link rel="stylesheet" href="styles.css">
    <meta charset="utf-8" />
  </head>
  <body>



      <table style= "border:0;width:100%">
        <tr>
          <td colspan="2" style= "border:0">
          <table style= "border:0;width:100%">
            <td style= "border: 0;width:50%" ><h1>Tutors:</h1></td>
            <td style= "border: 0;width:50%"><h1>Students:</h1></td>
          </table>
        </td>
        </tr>
      <tr>
      <td style= "border: 0">

      <!-- tutors schedule -->
      <table style="width:100%">
        <tr>
          <th>Block</th>
          <th>Day 1</th>
          <th>Day 2</th>
          <th>Day 3</th>
          <th>Day 4</th>
          <th>Day 5</th>
          <th>Day 6</th>
          <th>Day 7</th>
          <th>Day 8</th>
          <th>Day 9</th>
          <th>Day 10</th>
        </tr>
        <tr>
          <th>1A</th>
          <td id="11at"></td>
          <td id="21at"></td>
          <td id="31at"></td>
          <td id="41at"></td>
          <td id="51at"></td>
          <td id="61at"></td>
          <td id="71at"></td>
          <td id="81at"></td>
          <td id="91at"></td>
          <td id="101at"></td>
        </tr>
        <tr>
          <th>1B</th>
          <td id="11bt"></td>
          <td id="21bt"></td>
          <td id="31bt"></td>
          <td id="41bt"></td>
          <td id="51bt"></td>
          <td id="61bt"></td>
          <td id="71bt"></td>
          <td id="81bt"></td>
          <td id="91bt"></td>
          <td id="101bt"></td>
        </tr>
        <tr>
          <th>Snack</th>
        </tr>
        <tr>
          <th>2A</th>
          <td id="12at"></td>
          <td id="22at"></td>
          <td id="32at"></td>
          <td id="42at"></td>
          <td id="52at"></td>
          <td id="62at"></td>
          <td id="72at"></td>
          <td id="82at"></td>
          <td id="92at"></td>
          <td id="102at"></td>
        </tr>
        <tr>
          <th>2B</th>
          <td id="12bt"></td>
          <td id="22bt"></td>
          <td id="32bt"></td>
          <td id="42bt"></td>
          <td id="52bt"></td>
          <td id="62bt"></td>
          <td id="72bt"></td>
          <td id="82bt"></td>
          <td id="92bt"></td>
          <td id="102bt"></td>
        </tr>
        <tr>
          <th>Mass</th>
        </tr>
        <tr>
          <th>3A</th>
          <td id="13at"></td>
          <td id="23at"></td>
          <td id="33at"></td>
          <td id="43at"></td>
          <td id="53at"></td>
          <td id="63at"></td>
          <td id="73at"></td>
          <td id="83at"></td>
          <td id="93at"></td>
          <td id="103at"></td>
        </tr>
        <tr>
          <th>Lunch</th>
        </tr>
        <tr>
          <th>3B</th>
          <td id="13bt"></td>
          <td id="23bt"></td>
          <td id="33bt"></td>
          <td id="43bt"></td>
          <td id="53bt"></td>
          <td id="63bt"></td>
          <td id="73bt"></td>
          <td id="83bt"></td>
          <td id="93bt"></td>
          <td id="103bt"></td>
        </tr>
        <tr>
          <th>4A</th>
          <td id="14at"></td>
          <td id="24at"></td>
          <td id="34at"></td>
          <td id="44at"></td>
          <td id="54at"></td>
          <td id="64at"></td>
          <td id="74at"></td>
          <td id="84at"></td>
          <td id="94at"></td>
          <td id="104at"></td>
        </tr>
        <tr>
          <th>4B</th>
          <td id="14bt"></td>
          <td id="24bt"></td>
          <td id="34bt"></td>
          <td id="44bt"></td>
          <td id="54bt"></td>
          <td id="64bt"></td>
          <td id="74bt"></td>
          <td id="84bt"></td>
          <td id="94bt"></td>
          <td id="104bt"></td>
        </tr>
      </table>
        </td>
        <!-- tutees schedule -->
        <td style= "border: 0">
          <table style="width:100%">
            <tr>
              <th>Block</th>
              <th>Day 1</th>
              <th>Day 2</th>
              <th>Day 3</th>
              <th>Day 4</th>
              <th>Day 5</th>
              <th>Day 6</th>
              <th>Day 7</th>
              <th>Day 8</th>
              <th>Day 9</th>
              <th>Day 10</th>
            </tr>
            <tr>
              <th>1A</th>
              <td id="11as"></td>
              <td id="21as"></td>
              <td id="31as"></td>
              <td id="41as"></td>
              <td id="51as"></td>
              <td id="61as"></td>
              <td id="71as"></td>
              <td id="81as"></td>
              <td id="91as"></td>
              <td id="101as"></td>
            </tr>
            <tr>
              <th>1B</th>
              <td id="11bs"></td>
              <td id="21bs"></td>
              <td id="31bs"></td>
              <td id="41bs"></td>
              <td id="51bs"></td>
              <td id="61bs"></td>
              <td id="71bs"></td>
              <td id="81bs"></td>
              <td id="91bs"></td>
              <td id="101bs"></td>
            </tr>
            <tr>
              <th>Snack</th>
            </tr>
            <tr>
              <th>2A</th>
              <td id="12as"></td>
              <td id="22as"></td>
              <td id="32as"></td>
              <td id="42as"></td>
              <td id="52as"></td>
              <td id="62as"></td>
              <td id="72as"></td>
              <td id="82as"></td>
              <td id="92as"></td>
              <td id="102as"></td>
            </tr>
            <tr>
              <th>2B</th>
              <td id="12bs"></td>
              <td id="22bs"></td>
              <td id="32bs"></td>
              <td id="42bs"></td>
              <td id="52bs"></td>
              <td id="62bs"></td>
              <td id="72bs"></td>
              <td id="82bs"></td>
              <td id="92bs"></td>
              <td id="102bs"></td>
            </tr>
            <tr>
              <th>Mass</th>
            </tr>
            <tr>
              <th>3A</th>
              <td id="13as"></td>
              <td id="23as"></td>
              <td id="33as"></td>
              <td id="43as"></td>
              <td id="53as"></td>
              <td id="63as"></td>
              <td id="73as"></td>
              <td id="83as"></td>
              <td id="93as"></td>
              <td id="103as"></td>
            </tr>
            <tr>
              <th>Lunch</th>
            </tr>
            <tr>
              <th>3B</th>
              <td id="13bs"></td>
              <td id="23bs"></td>
              <td id="33bs"></td>
              <td id="43bs"></td>
              <td id="53bs"></td>
              <td id="63bs"></td>
              <td id="73bs"></td>
              <td id="83bs"></td>
              <td id="93bs"></td>
              <td id="103bs"></td>
            </tr>
            <tr>
              <th>4A</th>
              <td id="14as"></td>
              <td id="24as"></td>
              <td id="34as"></td>
              <td id="44as"></td>
              <td id="54as"></td>
              <td id="64as"></td>
              <td id="74as"></td>
              <td id="84as"></td>
              <td id="94as"></td>
              <td id="104as"></td>
            </tr>
            <tr>
              <th>4B</th>
              <td id="14bs"></td>
              <td id="24bs"></td>
              <td id="34bs"></td>
              <td id="44bs"></td>
              <td id="54bs"></td>
              <td id="64bs"></td>
              <td id="74bs"></td>
              <td id="84bs"></td>
              <td id="94bs"></td>
              <td id="104bs"></td>
            </tr>
          </table>
            </td>
      </tr>

    <!-- second row of the table for information, is changed on click -->
      <tr>
        <td  style= "border: 0">
          <h2 id="Tname"></h2>
          <p id="Tgrade"></p>
          <p id="Tsubjects"></p>
          <p id="Temail"></p>
        </td>
        <td  style= "border: 0">
          <h2 id="Sname"></h2>
          <p id="Sgrade"></p>
          <p id="Ssubjects"></p>
          <p id="Semail"></p>
        </td>

      </tr>
    </table>


    <!--Add buttons to initiate auth sequence and sign out-->
    <button id="authorize_button" style="display: none;">Authorize</button>
    <button id="signout_button" style="display: none;">Sign Out</button>



    <script type="text/javascript">
    var tdictOfInfo = {}
    var sdictOfInfo = {}

      // Client ID and API key from the Developer Console
      var CLIENT_ID = '867045633312-2hql9b9tcomo040c69jue6gdcqv5v2bi.apps.googleusercontent.com';
      var API_KEY = 'AIzaSyBIXO67sl22_prJpeDP0zuJMI-AlMdTSAc';

      // Array of API discovery doc URLs for APIs used by the quickstart
      var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];

      // Authorization scopes required by the API; multiple scopes can be
      // included, separated by spaces.
      var SCOPES = "https://www.googleapis.com/auth/spreadsheets.readonly";

      var authorizeButton = document.getElementById('authorize_button');
      var signoutButton = document.getElementById('signout_button');

      /**
       *  On load, called to load the auth2 library and API client library.
       */
      function handleClientLoad() {
        gapi.load('client:auth2', initClient);
      }

      /**
       *  Initializes the API client library and sets up sign-in state
       *  listeners.
       */
      function initClient() {
        gapi.client.init({
          apiKey: API_KEY,
          clientId: CLIENT_ID,
          discoveryDocs: DISCOVERY_DOCS,
          scope: SCOPES
        }).then(function () {
          // Listen for sign-in state changes.
          gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

          // Handle the initial sign-in state.
          updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
          authorizeButton.onclick = handleAuthClick;
          signoutButton.onclick = handleSignoutClick;
        }, function(error) {
          appendPre(JSON.stringify(error, null, 2));
        });
      }

      /**
       *  Called when the signed in status changes, to update the UI
       *  appropriately. After a sign-in, the API is called.
       */
      function updateSigninStatus(isSignedIn) {
        if (isSignedIn) {
          authorizeButton.style.display = 'none';
          signoutButton.style.display = 'block';
          tgetData();
          sgetData();
        } else {
          authorizeButton.style.display = 'block';
          signoutButton.style.display = 'none';
        }
      }

      /**
       *  Sign in the user upon button click.
       */
      function handleAuthClick(event) {
        gapi.auth2.getAuthInstance().signIn();
      }

      /**
       *  Sign out the user upon button click.
       */
      function handleSignoutClick(event) {
        gapi.auth2.getAuthInstance().signOut();
      }

      /**
       * Append a pre element to the body containing the given message
       * as its text node. Used to display the results of the API call.
       *
       * @param {string} message Text to be placed in pre element.
       */
      function appendPre(message) {
        var pre = document.getElementById('content');
        console.log(pre)
        var textContent = document.createTextNode(message + '\n');
        console.log(textContent)
        pre.appendChild(textContent);
      }

      /**
       * Print the names and majors of students in a sample spreadsheet:
       * https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit
       */
      function tgetData() {
        gapi.client.sheets.spreadsheets.values.get({
          spreadsheetId: '10RxnPoN6-yVEFtbLv93HaLnJRHLX1uGoZhu7LWT2-gk',
          range: 'Form Responses 1!A1:F',
        }).then(function(response) {
          var range = response.result;
          // console.log(range.values)
          // console.log(range.values.length)
          for (let step = 0; step < range.values.length; step++) {

            if (step != 0) {
              var value_list = range.values[step]
              // console.log(value_list);

              for (let stepTwo = 0; stepTwo < range.values[step].length; stepTwo++) {

                if (stepTwo != 0) {
                  var value = range.values[step][stepTwo]
                  };//end of if statement that deals with timestamp
                  // console.log(value)
                if (stepTwo == 1) {
                  var initials = ""
                  var fullName = value
                  var listFirstLast = range.values[step][stepTwo].split(" ")

                  var count = listFirstLast.length;
                  for (var num = 0; num < count; num++) {
                    // console.log(listFirstLast[num])
                    var firstLetter = listFirstLast[num].split("")[0]
                    // console.log(firstLetter)
                    initials += firstLetter

                  }//end of for loop that goes through first and last name

                  // console.log(initials)
                  //add random number to initials to create unique CODE
                  initials += " "
                  initials += Math.random()
                  // console.log(initials)
                  const initialsConst = initials

                }//end of if statement that deals with name
                if (stepTwo == 2) {
                  var grade = value

                }// end of if statement that deals with the grade
                if (stepTwo == 3) {
                  try {
                    blockDict={}
                    var blocks = value;
                    var blockList = blocks.split(",");
                    var blockListLen = blockList.length;
                    for (var n = 0; n < blockListLen; n++) {

                      blockSegs = blockList[n].split(" ")
                      // console.log(blockSegs)
                      var blockSegsLen = blockSegs.length;
                      for (var segNum = 0; segNum < blockSegsLen; segNum++) {
                        // console.log(blockSegs[segNum])
                        if (!isNaN(Number(blockSegs[segNum]))){
                          if (blockSegs[segNum] != " ") {
                            if (!isNaN(parseInt(blockSegs[segNum+1], 10))){
                              var blockSegment = blockSegs[segNum]
                              blockDict[blockSegment.toString()]=blockSegs[segNum+1];
                              // console.log("success")
                              // console.log(typeof(blockSegment))
                              // console.log(blockDict)
                            }//end of if statement that checks for block number after day

                          }//end of if statement that deals with empty spaces

                        }//end of if loop that filters out non numbers
                      }//end of for loop that goes through each space separated block value

                    }//end of for loop taht goes through each block input
                  } catch (e) {
                    console.log("error")
                  }

                }//end of if statement that deals with blocks

                if (stepTwo == 4) {
                  var subjects = value

                }// end of if statement that deals with subjects

                if (stepTwo == 5) {
                  var email = value

                  tdictOfInfo[initials] ={"name": fullName, "grade": grade, "subjects": subjects, "email": email, "blocks": blockDict}
                  const ctdictOfInfo = tdictOfInfo
                  console.log(tdictOfInfo)
                }// end of if statement that deals with email and makes final dict

                //{"name": "Benjamin Everson", "grade": "10", "subjects": "math", "email": "benjamin@everson.ws", "blocks": {"4":"1a", "9":"3b"}}
                }//end of for loop that goes through data elements in each cell of sheet data
            }//end of if statement that filters out headers
          }//end of for loop that goes through row elements in sheet data
          //END OF TGETDATA
          //START OF TUTOR ADD LABELS TO char
          // for each tutor make their name a button that shows info on click

                    for (var tkey in tdictOfInfo){
                      console.log("test1")
                      console.log(tkey)

                       for (var tblockKey in tdictOfInfo[tkey]["blocks"]){
                          console.log("test2")
                            // loop through all blocks of all tutors and add their name schedule


                            const tblockCode = tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]
                            if (!isNaN(tdictOfInfo[tkey]["blocks"][tblockKey])){
                              console.log(tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]+"at")
                              document.getElementById(tblockCode+"at").innerHTML = tkey.split(" ")[0];
                              console.log(tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]+"bt")
                              document.getElementById(tblockCode+"bt").innerHTML = tkey.split(" ")[0];
                              const ttag =document.getElementById(tblockCode);
                              taddClick(document.getElementById(tblockCode+"at"))
                              taddClick(document.getElementById(tblockCode+"bt"))
                            }
                            if (isNaN(tdictOfInfo[tkey]["blocks"][tblockKey])){
                              console.log(tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]+"t")
                              document.getElementById(tblockCode+"t").innerHTML = tkey.split(" ")[0];
                              const ttag =document.getElementById(tblockCode+"t");
                              taddClick(ttag)
                            }



                      // console.log(ttag);
                      // // console.log(tdictOfInfo);
                      // // console.log(tkey)
                      // // console.log(tdictOfInfo[tkey])
                      // // console.log(document.getElementsByClassName("BE"));

                      function taddClick(tnameButt){
                        tnameButt.addEventListener("click", tupdateInfo);;}
                        const name = tdictOfInfo[tkey]["name"];
                        const grade = tdictOfInfo[tkey]["grade"];
                        const subjects = tdictOfInfo[tkey]["subjects"];
                        const email = tdictOfInfo[tkey]["email"];

                      function tupdateInfo() {
                        // console.log(tdictOfInfo[tkey])
                        // console.log(tkey)

                      document.getElementById("Tname").innerHTML = "Name: "+ name;
                      document.getElementById("Tgrade").innerHTML = "Grade: "+ grade;
                      document.getElementById("Tsubjects").innerHTML = "Subjects: "+ subjects;
                      document.getElementById("Temail").innerHTML = "Email: "+ email;
                      }
                    }}

          //END OF TUTOR ADD LABELS
        })};//END OF ALL TUTOR RELATED WORK





            //START OF SGET DATA
        function sgetData() {
          gapi.client.sheets.spreadsheets.values.get({
            spreadsheetId: '1QWjpNmbdjDaFtZwZBSDdMRrxa1YYrIBV2c6LguHiOlQ',
            range: 'Form Responses 1!A1:F',
          }).then(function(response) {
            var range = response.result;
            // console.log(range.values)
            // console.log(range.values.length)
            for (let step = 0; step < range.values.length; step++) {

              if (step != 0) {
                var value_list = range.values[step]
                // console.log(value_list);

                for (let stepTwo = 0; stepTwo < range.values[step].length; stepTwo++) {

                  if (stepTwo != 0) {
                    var value = range.values[step][stepTwo]
                    };//end of if statement that deals with timestamp
                    // console.log(value)
                  if (stepTwo == 1) {
                    var initials = ""
                    var fullName = value
                    var listFirstLast = range.values[step][stepTwo].split(" ")

                    var count = listFirstLast.length;
                    for (var num = 0; num < count; num++) {
                      // console.log(listFirstLast[num])
                      var firstLetter = listFirstLast[num].split("")[0]
                      // console.log(firstLetter)
                      initials += firstLetter

                    }//end of for loop that goes through first and last name

                    // console.log(initials)
                    //add random number to initials to create unique CODE
                    initials += " "
                    initials += Math.random()
                    // console.log(initials)
                    const initialsConst = initials

                  }//end of if statement that deals with name
                  if (stepTwo == 2) {
                    var grade = value

                  }// end of if statement that deals with the grade
                  if (stepTwo == 3) {
                    try {
                      blockDict={}
                      var blocks = value;
                      var blockList = blocks.split(",");
                      var blockListLen = blockList.length;
                      for (var n = 0; n < blockListLen; n++) {

                        blockSegs = blockList[n].split(" ")
                        // console.log(blockSegs)
                        var blockSegsLen = blockSegs.length;
                        for (var segNum = 0; segNum < blockSegsLen; segNum++) {
                          // console.log(blockSegs[segNum])
                          if (!isNaN(Number(blockSegs[segNum]))){
                            if (blockSegs[segNum] != " ") {
                              if (!isNaN(parseInt(blockSegs[segNum+1], 10))){
                                var blockSegment = blockSegs[segNum]
                                blockDict[blockSegment.toString()]=blockSegs[segNum+1];
                                // console.log("success")
                                // console.log(typeof(blockSegment))
                                // console.log(blockDict)
                              }//end of if statement that checks for block number after day

                            }//end of if statement that deals with empty spaces

                          }//end of if loop that filters out non numbers
                        }//end of for loop that goes through each space separated block value

                      }//end of for loop taht goes through each block input
                    } catch (e) {
                      console.log("error")
                    }

                  }//end of if statement that deals with blocks

                  if (stepTwo == 4) {
                    var subjects = value

                  }// end of if statement that deals with subjects

                  if (stepTwo == 5) {
                    var email = value

                    sdictOfInfo[initials] ={"name": fullName, "grade": grade, "subjects": subjects, "email": email, "blocks": blockDict}
                    const csdictOfInfo = sdictOfInfo
                    console.log(sdictOfInfo)
                  }// end of if statement that deals with email and makes final dict

                  //{"name": "Benjamin Everson", "grade": "10", "subjects": "math", "email": "benjamin@everson.ws", "blocks": {"4":"1a", "9":"3b"}}
                  }//end of for loop that goes through data elements in each cell of sheet data
              }//end of if statement that filters out headers
            }//end of for loop that goes through row elements in sheet data
            //START OF STUDENT ADD LABELS TO table
            // for each student make their name a button that shows info on click
            for (var key in sdictOfInfo){
              for (var blockKey in sdictOfInfo[key]["blocks"]){

                   // loop through all blocks of all tutors and add their name schedule



                   // console.log(blockKey+sdictOfInfo[key]["blocks"][blockKey]+"s")
                   const sblockCode = blockKey+sdictOfInfo[key]["blocks"][blockKey]
                   if (!isNaN(sdictOfInfo[key]["blocks"][blockKey])){
                     console.log(blockKey+sdictOfInfo[key]["blocks"][blockKey]+"as")
                     document.getElementById(sblockCode+"as").innerHTML = key.split(" ")[0];
                     console.log(blockKey+sdictOfInfo[key]["blocks"][blockKey]+"bs")
                     document.getElementById(sblockCode+"bs").innerHTML = key.split(" ")[0];
                     const stag =document.getElementById(sblockCode);
                     addClick(document.getElementById(sblockCode+"as"))
                     addClick(document.getElementById(sblockCode+"bs"))
                   }
                   if (isNaN(sdictOfInfo[key]["blocks"][blockKey])){
                     console.log(blockKey+sdictOfInfo[key]["blocks"][blockKey]+"s")
                     document.getElementById(sblockCode+"s").innerHTML = key.split(" ")[0];
                     const stag =document.getElementById(sblockCode+"s");
                     addClick(stag)
                   }


              // const tag=document.getElementById(blockCode);
              // // console.log(tags);
              // // console.log(document.getElementsByClassName("BE"));
              //
              // addClick(tag)
              // console.log(tag)


              function updateInfo() {
                const name = sdictOfInfo[key]["name"];
                const grade = sdictOfInfo[key]["grade"];
                const subjects = sdictOfInfo[key]["subjects"];
                const email = sdictOfInfo[key]["email"];
                // console.log("testing3")
              document.getElementById("Sname").innerHTML = "Name: "+ name;
              document.getElementById("Sgrade").innerHTML = "Grade: "+ grade;
              document.getElementById("Ssubjects").innerHTML = "Subjects: "+ subjects;
              document.getElementById("Semail").innerHTML = "Email: "+ email;

              }
              updateFunc = updateInfo;
              function addClick(nameButt){
                // console.log("testing1")
                nameButt.addEventListener("click", updateInfo);
                // console.log("testing2")
              }

            }}

            //END OF STUDENT ADD LABELS TO TABle

          })};


// MY CODE THAT DEALS WITH DICTS AFTER THEY ARE MADE

  // for each tutor make their name a button that shows info on click

  for (var tkey in tdictOfInfo){
    console.log("test1")
    console.log(tkey)

     for (var tblockKey in tdictOfInfo[tkey]["blocks"]){
        console.log("test2")
          // loop through all blocks of all tutors and add their name schedule


          const tblockCode = tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]+"t"
          console.log(tblockKey+tdictOfInfo[tkey]["blocks"][tblockKey]+"t")
          document.getElementById(tblockCode).innerHTML = tkey.split(" ")[0];

          console.log(Math.random())

    const ttag =document.getElementById(tblockCode);
    // console.log(ttag);
    // // console.log(tdictOfInfo);
    // // console.log(tkey)
    // // console.log(tdictOfInfo[tkey])
    // // console.log(document.getElementsByClassName("BE"));
    taddClick(ttag)
    function taddClick(tnameButt){
      tnameButt.addEventListener("click", tupdateInfo);;}
      const name = tdictOfInfo[tkey]["name"];
      const grade = tdictOfInfo[tkey]["grade"];
      const subjects = tdictOfInfo[tkey]["subjects"];
      const email = tdictOfInfo[tkey]["email"];

    function tupdateInfo() {
      // console.log(tdictOfInfo[tkey])
      // console.log(tkey)

    document.getElementById("Tname").innerHTML = "Name: "+ name;
    document.getElementById("Tgrade").innerHTML = "Grade: "+ grade;
    document.getElementById("Tsubjects").innerHTML = "Subjects: "+ subjects;
    document.getElementById("Temail").innerHTML = "Email: "+ email;
    }
  }}



    </script>

    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
  </body>
</html>
